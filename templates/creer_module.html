<div class="form-group">
  <label>Éléments de la check-list</label>
  <div id="elements-container">
    <div class="checklist-item-wrapper">
      <input type="text" name="elements[]" placeholder="Élément 1" required class="checklist-item-input">
      <button type="button" class="remove-btn" onclick="removeElement(this)" title="Supprimer cet élément">❌</button>
    </div>
  </div>
  <button type="button" onclick="addElement()" class="btn" style="margin-top: 10px;">+ Ajouter un élément</button>
</div>

<script>
  function addElement() {
    const container = document.getElementById("elements-container");

    // Create wrapper div
    const wrapper = document.createElement("div");
    wrapper.className = "checklist-item-wrapper";

    // Create input
    const input = document.createElement("input");
    input.type = "text";
    input.name = "elements[]";
    input.placeholder = "Nouvel élément";
    input.required = true;
    input.className = "checklist-item-input";

    // Create remove button
    const removeBtn = document.createElement("button");
    removeBtn.type = "button";
    removeBtn.className = "remove-btn";
    removeBtn.title = "Supprimer cet élément";
    removeBtn.textContent = "❌";
    removeBtn.onclick = function() {
      removeElement(this);
    };

    // Append input and remove button to wrapper
    wrapper.appendChild(input);
    wrapper.appendChild(removeBtn);

    // Append wrapper to container
    container.appendChild(wrapper);
  }

  function removeElement(button) {
    const wrapper = button.parentNode;
    const container = document.getElementById("elements-container");

    // Make sure at least one input remains (optional)
    if (container.children.length > 1) {
      container.removeChild(wrapper);
    } else {
      alert("La check-list doit contenir au moins un élément.");
    }
  }
</script>
